<div class="page-content" style="min-height:659px">
    <!-- BEGIN PAGE HEADER-->
    <div class="portlet box yellow-crusta float-none content-box my-md-4  mx-md-3 border-0">
        <div class="portlet-body form bg-transparent p-3 border-0">
            <div class="actions text-end mb-3">
                <!-- <a  class="btn btn-success">Export All</a> -->
                <a (click)="resetFilter()" class="btn btn-secondary inline-btn mx-2">Reset</a>
                <button class="btn btn-success" (click)="export()">Export</button>
            </div>
            <div class="row mb-4">
                <!-- <div class="col-xl-4 col-lg-6 col-sm-7 mb-lg-0 mb-3"> -->
                    <!-- <div class="job-form-input w-100 d-inline-block position-relative">
                        <input type="text" [(ngModel)]="search" (keyup)="reloadSubscription()"
                            class="form-control ps-5 bg-f1f1f1 border-0 font-18 searh-form" name="search" id="search"
                            placeholder="Search Email">
                        <span class="search-icon"><i class="fa-solid fa-magnifying-glass"></i></span>
                    </div> -->
                <!-- </div> -->
                
                <div class="col-xl-3 col-md-12 mb-xl-0 mb-md-4">
                    <div class="job-form-input w-100 d-inline-block position-relative">
                        <input type="text" [(ngModel)]="email" (keyup)="reloadSubscription()"
                            class="form-control ps-5 bg-f1f1f1 border-0 font-18 searh-form" name="email" id="email"
                            placeholder="Search By Email">
                        <span class="search-icon"><i class="fa-solid fa-magnifying-glass"></i></span>
                    </div>
                </div>

                <div class="col-xl-9 col-md-12">
                    <div class="row">
                        <div class="col-lg-4 col-md-6 col-12 mt-md-0 mt-3">
                            <select class="form-control form-select-design" (change)="reloadSubscription()"
                                [(ngModel)]="type" cSelect>
                                <option value="" selected>Select Project Type</option>
                                <option value="1" >New</option>
                                <option value="2" >Existing</option>
                                <option value="3" >Emergency Relief</option>
                            </select>
                        </div>
                        <div class="col-lg-4 col-md-6 col-12 mt-md-0 mt-3">
                            <select class="form-control form-select-design" (change)="reloadSubscription()"
                                [(ngModel)]="donation_type" cSelect>
                                <option value="" selected>Select Donation Type</option>
                                <option value="1" >Donation</option>
                                <option value="2" >Volunteer</option>
                            </select>
                        </div>
                        <div class="col-lg-4 col-md-6 col-12 mt-lg-0 mt-3">
                            <select class="form-control form-select-design" (change)="reloadSubscription()"
                                [(ngModel)]="category" cSelect>
                                <option value="" selected>Select Category</option>
                                <option [value]="cat.id" *ngFor="let cat of categories">{{cat.name}}</option>
                            </select>
                        </div>
                        <div class="col-lg-4 col-md-6 col-12 mt-3">
                            <select class="form-control form-select-design" (change)="reloadSubscription()"
                                [(ngModel)]="status" cSelect>
                                <option value="" selected>Select Status</option>
                                <option [value]="status.id" *ngFor="let status of project_status">
                                    {{status.name}}
                                </option>                        
                            </select>
                        </div>
                        <div class="col-lg-4 col-md-6 col-12 mt-3" [hidden]="isDispalayDatepicker">
                            <div class="input-group h-100 calendar-input">
                                <input type="text"
                                class="form-control recurring_date h-100"
                                [(ngModel)]="created_at_dp"
                                placeholder="DD/MM/YYYY" >
                            <span class="input-group-append" (click)="removeDateFilter()">
                                <span
                                    class="input-group-text calendar-icon" >
                                    <i class="fa-solid fa-xmark"></i>
                                </span>
                            </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="table-responsive table-scrollable border-0 project-report-table">
                <table class="table table-customize" border="0">
                    <thead>
                        <tr class="head-top">
                            <th scope="col">Sr. no.</th>
                            <th scope="col">User name</th>
                            <th scope="col">User email</th>
                            <th scope="col">Project title</th>
                            <th scope="col">Project description</th>
                            <th scope="col">Project type</th>
                            <th scope="col">Project donation type</th>
                            <th scope="col">Category name</th>
                            <th scope="col">Amount</th>
                            <th scope="col">Donation Amount</th>
                            <th scope="col">Volunteer</th>
                            <th scope="col">Joined Volunteer</th>
                            <th scope="col">Tips</th>
                            <th scope="col">City</th>
                            <th scope="col">Countury</th>
                            <th scope="col">SDG</th>
                            <th scope="col">Status</th>
                            <th scope="col">Created Date</th>
                        </tr>
                    </thead>
                    <tbody *ngIf="finalResponse.length > 0">
                        <tr *ngFor="let finalRes of finalResponse let i = index">
                            <td scope="col">{{finalRes.sl_no}}</td>
                            <td scope="col">{{finalRes.user_name}}</td>
                            <td scope="col">{{finalRes.user_email}}</td>
                            <td scope="col">{{finalRes.title}}</td>
                            <td scope="col">{{finalRes.description}}</td>
                            <td scope="col">{{finalRes.project_type}}</td>
                            <td scope="col">{{finalRes.project_donation_type}}</td>
                            <td scope="col">{{finalRes.category_name}}</td>
                            <td scope="col">${{finalRes.amount}}</td>
                            <td scope="col">${{finalRes.donation_amount}}</td>
                            <td scope="col">{{finalRes.volunteer}}</td>
                            <td scope="col">{{finalRes.joined_volunteer}}</td>
                            <td scope="col">${{finalRes.tips_amount}}</td>
                            <td scope="col">{{finalRes.city}}</td>
                            <td scope="col">{{finalRes.countury}}</td>
                            <td scope="col">{{finalRes.sdg_names}}</td>
                            <td scope="col">{{finalRes.status}}</td>
                            <td scope="col">{{finalRes.created_at}}</td>
                        </tr>
                    </tbody>
                </table>
                <ng-container *ngIf="finalResponse.length === 0">
                    <div class="row col-12 mt-4">
                        <h4 style="text-align: center"><b>{{noDataFlag}}</b></h4>
                    </div>
                </ng-container>
                <nav aria-label="Page navigation example" class="pt-3"
                    *ngIf="finalResponse.length > 0 && pager.totalPages != 1">
                    <ul *ngIf="pager.pages && pager.pages.length" class="pagination" class="pagination pagination-list">
                        <li class="page-item custom-pagination">
                            <ng-container *ngIf="pager.currentPage === 1">
                                <a data-tooltip="tooltip" title="First" class="page-link custom-page-link"
                                    [ngClass]="{ disabled: pager.currentPage === 1 }" style="cursor: pointer">
                                    <i class="fa fa-angle-double-left"></i>
                                </a>
                            </ng-container>
                            <ng-container *ngIf="pager.currentPage != 1">
                                <a data-tooltip="tooltip" title="First" class="page-link custom-page-link"
                                    [ngClass]="{ disabled: pager.currentPage === 1 }" (click)="setCurrent(1)">
                                    <i class="fa fa-angle-double-left"></i>
                                </a>
                            </ng-container>
                        </li>
                        <li class="page-item custom-pagination">
                            <ng-container *ngIf="pager.currentPage === 1">
                                <a data-tooltip="tooltip" title="PREVIOUS" class="page-link custom-page-link"
                                    [ngClass]="{ disabled: pager.currentPage === 1 }" style="cursor: pointer">
                                    <i class="fa fa-angle-left"></i>
                                </a>
                            </ng-container>
                            <ng-container *ngIf="pager.currentPage != 1">
                                <a data-tooltip="tooltip" title="PREVIOUS" class="page-link custom-page-link"
                                    [ngClass]="{ disabled: pager.currentPage === 1 }"
                                    (click)="setCurrent(pager.currentPage - 1)">
                                    <i class="fa fa-angle-left"></i>
                                </a>
                            </ng-container>
                        </li>
                        <li *ngFor="let page of pager.pages" [class.active]="pager.currentPage === page"
                            class="page-item custom-pagination">
                            <a class="page-link custom-page-link" (click)="setCurrent(page)" style="cursor: pointer">{{
                                page }}</a>
                        </li>
                        <li class="page-item custom-pagination">
                            <ng-container *ngIf="pager.currentPage === pager.totalPages">
                                <a data-tooltip="tooltip" title="NEXT" class="page-link custom-page-link" [ngClass]="{
                                disabled: pager.currentPage === pager.totalPages
                              }" style="cursor: pointer">
                                    <i class="fa fa-angle-right"></i>
                                </a>
                            </ng-container>
                            <ng-container *ngIf="pager.currentPage != pager.totalPages">
                                <a data-tooltip="tooltip" title="NEXT" class="page-link custom-page-link" [ngClass]="{
                                disabled: pager.currentPage === pager.totalPages
                              }" (click)="setCurrent(pager.currentPage + 1)">
                                    <i class="fa fa-angle-right"></i>
                                    <!-- <img
                                src="/assets/images/right-single-arrow.png"
                                alt="Arrow"
                                class="rl-arrow"
                            /> -->
                                </a>
                            </ng-container>
                        </li>
                        <li class="page-item arrow-pagination">
                            <ng-container *ngIf="pager.currentPage === pager.totalPages">
                                <a data-tooltip="tooltip" title="LAST" class="page-link custom-page-link" [ngClass]="{
                                disabled: pager.currentPage === pager.totalPages
                              }" style="cursor: pointer">
                                    <i class="fa fa-angle-double-right"></i>
                                </a>
                            </ng-container>
                            <ng-container *ngIf="pager.currentPage != pager.totalPages">
                                <a data-tooltip="tooltip" title="LAST" class="page-link custom-page-link" [ngClass]="{
                                disabled: pager.currentPage === pager.totalPages
                              }" (click)="setCurrent(pager.totalPages)">
                                    <i class="fa fa-angle-double-right"></i>
                                </a>
                            </ng-container>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>
</div>